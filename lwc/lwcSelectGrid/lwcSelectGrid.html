<template>

  <lightning-card  title="Dinamic data table sample">
    <div slot="actions">
      <h1>by Ulissessigma</h1>
    </div>

    <div>
      <table aria-multiselectable="true" 
      class="slds-table slds-table_bordered slds-table_resizable-cols" 
      role="grid" 
    >
        <thead>
          <tr class="slds-line-height_reset">
            <th class="slds-text-align_right" scope="col" style="width:3.25rem">
              <span id="column-group-header" class="slds-assistive-text">Choose a row</span>
              <div class="slds-th__action slds-th__action_form">
                <div class="slds-checkbox">
                  <input type="checkbox" onclick='{onSelectAllGrid}' name="options" 
                    data-id='input-select-all-id-309' id="input-checkbox-id-309" value="input-checkbox-id-309" tabindex="0" 
                    aria-labelledby="check-select-all-label column-group-header" />
                  <label class="slds-checkbox__label" for="input-checkbox-id-309" id="check-select-all-label">
                    <span class="slds-checkbox_faux"></span>
                    <span class="slds-form-element__label slds-assistive-text">Select All</span>
                  </label>
                </div>
              </div>
            </th>

            <template for:each={datalist.colunNames} for:item="colun">

                <th key='{colun.key}' aria-label='{colun.name}' aria-sort="none" class="slds-is-resizable slds-is-sortable" 
                  scope="col">
                  <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                    <span class="slds-assistive-text">Sort by: </span>
                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                      <span class="slds-truncate" title='{colun.name}'>{colun.name}</span>
                      <span class="slds-icon_container slds-icon-utility-arrowdown">
                        <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                          <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                        </svg>
                      </span>
                    </div>
                  </a>
                  <div class="slds-resizable">
                    <input type="range" aria-label="Name column width" class="slds-resizable__input slds-assistive-text" 
                    max="1000" min="20" tabindex="0" />
                    <span class="slds-resizable__handle">
                      <span class="slds-resizable__divider"></span>
                    </span>
                  </div>
                </th>
            </template>

          </tr>

        </thead>

        <tbody>

          <template for:each={datalist.colunValues} for:item="row">

            <tr aria-selected="false" class="slds-hint-parent" key={row.key}>
              <td scope="row" class="slds-text-align_right" role="gridcell">
                <div class="slds-checkbox">
                    <input type="checkbox" onclick='{row.onClickEvent}' data-id='{row.key}' name="options" id='{row.key}' tabindex='0' />
                    <label class="slds-checkbox__label" for='{row.key}'>
                      <span class="slds-checkbox_faux"></span>
                      <span class="slds-form-element__label slds-assistive-text">Select item {row.key}</span>
                    </label>
                </div>
              </td>

              <template for:each={row.valueList} for:item="rowColun">

                <td key='{rowColun.key}' role="gridcell">
                  <div class="slds-truncate" title='{rowColun.key}'>{rowColun.value}</div>
                </td>
              </template>
              
            </tr>
          </template>
        </tbody>
      </table>
    </div>

    <div slot="footer">
        <lightning-button 
          variant="brand-outline" 
          label="Print Selected on Console" 
          title="Primary action with lighter look" 
          onclick={onSubmitClickHandler} 
          class="slds-m-left_x-small" id='Submit-Table-Button-309' ></lightning-button>
    </div>
  </lightning-card>
</template>